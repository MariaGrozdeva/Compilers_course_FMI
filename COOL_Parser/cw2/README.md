# COOL Parser

COOL parser project with an ANTLR4 **parser** grammar and a small C++ driver, plus
helper scripts to build, run and grade the tests.  

---

## Project layout

```
cw2/
├─ src/                      # source files
│ ├─ CoolParser.g4           # ANTLR4 parser grammar (tokenVocab=CoolLexer)
│ ├─ CoolLexer.tokens        # token names from the lexer
│ └─ drivers/
│ └─ ParserDriver.cpp        # C++ driver (runs the parser + AST printer)
├─ gen/                      # auto-generated by ANTLR4
│ ├─ CoolParser.h
│ ├─ CoolParser.cpp
│ ├─ CoolParserBaseVisitor.h
│ ├─ CoolParserBaseVisitor.cpp
│ ├─ CoolParserVisitor.h
│ └─ CoolParserVisitor.cpp
├─ include/
│ └─ CoolLexer.h             # header for the provided COOL lexer
├─ lib/
│ ├─ liblexer_gen_code.a     # lexer library (x86_64)
│ └─ liblexer_gen_code_arm.a # lexer library (ARM, optional)
├─ build/                    # CMake build tree (artifacts)
│ ├─ parser                  # executable produced by the build
│ └─ libparser_gen_code.a    # generated parser library
├─ tests/
│ └─ parser/                 # input/output test cases
└─ tools/                    # helper scripts
├─ build.sh                  # configure + compile
├─ test-parser.sh            # run all tests (no grading)
└─ grade-parser.sh           # run the full test suite with grading       
```

---

## Run a single test (from `cw2`)

```bash
./build/parser tests/parser/086.nestedblocks.in
```

The driver (ParserDriver.cpp) reads the input program from the given file,
runs the COOL parser, and prints the abstract syntax tree (or the first error,
depending on the test).

## Run all tests

```bash
./tools/grade-parser.sh
```